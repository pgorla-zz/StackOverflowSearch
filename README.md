Stack Overflow Search
================================

[Patch Solr to Use OpenNLP](http://wiki.apache.org/solr/OpenNLP).

Errors
------

[schema.xml] analyzer/tokenizer: Error loading class 'solr.OpenNLPTokenizerFactory'
Modify solrconfig.xml to include the path to the OpenNLP files.

SEVERE: null:java.lang.NoClassDefFoundError: org/apache/lucene/analysis/opennlp/OpenNLPTokenizer
Locate the new jar files generated by the patch and move them to
`solr/collection/lib`.

You can find where the class files are located with `grep`.

`$ cd path/to/main/solr/build`
`$ grep "jar file" -r .`

[Download the OpenNLP models](http://opennlp.sourceforge.net/models-1.5/).
This server has "real" models for the OpenNLP project. Download model
all `en-*.bin` files to solr/collection1/conf/opennlp.

Starting Solr
-------------

`$ cd solr_example_dir`
`$ java -jar -Dsolr.solr.home=<full_path_to_this_dir>/solr_home -Dsolr.clustering.enabled=true start.jar`


Indexing Documents
------------------

`$ python parse_stackexchange.py "/path/to/posts.xml"` 

`$ curl http://localhost:8983/solr/update/csv?commit=true \
    -F stream.file=/path/to.csv -F f.t_r_attributes.split=true`

Configuration details in `solr/collection1/conf/schema.xml.`

Spellcheck
----------

The spellcheck component must be built periodically.

`$ curl http://localhost:8983/solr/collection1/select?start=0 \
    &rows=0&spellcheck=true&spellcheck.collate=true&spellcheck.build=true`
